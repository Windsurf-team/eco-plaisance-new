function r(){const n=document.getElementById("siteHeader");n&&(window.scrollY>30?n.classList.add("scrolled"):n.classList.remove("scrolled"))}window.addEventListener("scroll",r);window.addEventListener("load",r);const u=document.getElementById("siteHeader"),f=document.querySelector(".menu-toggle"),v=document.getElementById("siteNav"),a=document.getElementById("menuIcon"),m=document.querySelector(".nav-backdrop");if(u&&f&&v){let n=function(e){c.classList.toggle("open",e),o.setAttribute("aria-expanded",e?"true":"false"),o.setAttribute("aria-label",e?"Fermer le menu":"Ouvrir le menu"),document.documentElement.classList.toggle("nav-open",e),i.setAttribute("aria-hidden",e?"false":"true"),a&&(a.classList.toggle("fa-bars",!e),a.classList.toggle("fa-xmark",e)),e||document.querySelectorAll(".nav-dropdown.active").forEach(t=>t.classList.remove("active"))},l=function(){document.querySelectorAll(".nav-dropdown.active").forEach(e=>e.classList.remove("active"))};const c=u,o=f,i=v;r(),o.addEventListener("click",()=>{const e=!c.classList.contains("open");n(e)}),i.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{n(!1)})}),document.querySelectorAll(".nav-dropdown").forEach(e=>{const t=e.querySelector(".nav-dropbtn");t&&t.addEventListener("click",s=>{s.preventDefault();const L=!e.classList.contains("active");document.querySelectorAll(".nav-dropdown.active").forEach(d=>{d!==e&&d.classList.remove("active")}),e.classList.toggle("active",L)})}),document.addEventListener("click",e=>{const t=e.target;if(!(t instanceof Node))return;const s=t instanceof Element?t:null;s&&s.closest(".nav-dropdown")||l()}),m&&m.addEventListener("click",()=>n(!1)),document.addEventListener("click",e=>{if(!c.classList.contains("open"))return;const t=e.target;t instanceof Node&&(c.contains(t)||n(!1))}),document.addEventListener("keydown",e=>{e.key==="Escape"&&(c.classList.contains("open")&&n(!1),l())}),window.addEventListener("resize",()=>{window.innerWidth>900&&c.classList.contains("open")&&n(!1)})}
